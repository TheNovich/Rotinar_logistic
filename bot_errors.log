2025-08-06 23:18:57,929 - INFO - Starting bot polling...
2025-08-06 23:19:02,803 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:02,905 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:03,236 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:10,777 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-06 23:19:10,991 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:13,063 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:19:13,404 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:52,962 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-06 23:19:53,393 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:54,879 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:54,915 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:19:54,974 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:55,123 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:55,150 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:58,642 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-06 23:19:58,648 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-06 23:19:58,967 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:19:59,337 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:20:04,447 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:20:04,469 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:20:53,265 - INFO - Starting bot polling...
2025-08-06 23:25:55,676 - INFO - Starting bot polling...
2025-08-06 23:26:02,491 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:26:02,702 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:26:03,024 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:26:05,488 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:26:05,887 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:28:11,719 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=60)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=60)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 256, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=60)
2025-08-06 23:28:11,770 - INFO - Restarting in 10 seconds...
2025-08-06 23:28:21,771 - INFO - Starting bot polling...
2025-08-06 23:28:24,365 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-06 23:28:24,606 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:52:02,687 - INFO - Starting bot polling...
2025-08-06 23:52:43,367 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:52:45,794 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:52:52,122 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=phone_number&phone_number=eq.89999999999 "HTTP/2 200 OK"
2025-08-06 23:53:02,239 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=phone_number&phone_number=eq.89683606929 "HTTP/2 200 OK"
2025-08-06 23:53:02,396 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?phone_number=eq.89683606929 "HTTP/2 200 OK"
2025-08-06 23:53:02,542 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:02,816 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:02,912 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:03,139 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:04,670 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:53:04,846 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:08,355 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-06 23:53:08,618 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:18,460 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:20,374 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:53:20,636 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:23,201 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:25,570 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:53:25,792 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:53:55,263 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-06 23:53:55,707 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:04,714 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:04,895 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:05,118 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:05,261 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:05,430 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:06,922 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:07,199 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:07,657 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:07,741 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:09,744 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:09,950 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:10,381 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:10,538 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:12,056 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:12,281 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:12,372 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:12,483 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:17,141 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:17,311 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:17,402 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:17,502 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:19,189 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:19,348 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:19,426 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:19,507 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:21,460 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:21,620 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:21,705 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:21,797 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:23,347 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:23,513 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:23,640 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:23,739 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:25,360 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:25,586 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:25,663 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:25,762 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:27,604 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:27,787 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:27,861 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:54:27,990 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-06 23:55:49,984 - INFO - Starting bot polling...
2025-08-06 23:55:55,192 - INFO - Starting bot polling...
2025-08-07 00:47:45,187 - INFO - Starting bot polling...
2025-08-07 00:48:08,013 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:08,287 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:08,588 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:08,734 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:08,943 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:10,668 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:11,158 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:11,237 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:11,377 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:12,701 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:12,967 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:13,107 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:13,306 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:14,709 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:14,871 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:14,950 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:48:15,078 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:46,549 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:46,869 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:47,163 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:47,304 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:47,923 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:48,108 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:48,252 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:48,327 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:53,984 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:54,131 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:54,208 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:56,617 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:56,700 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:58:56,771 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:04,908 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:05,138 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:05,301 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:05,387 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:06,859 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:07,071 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:07,148 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:07,233 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:44,027 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:47,005 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:47,145 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:47,393 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:49,091 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 00:59:49,702 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 00:59:51,103 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-07 00:59:51,300 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:02:04,317 - INFO - Starting bot polling...
2025-08-07 01:02:12,168 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 01:02:12,370 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:02:16,954 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-07 01:02:17,114 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:02:19,012 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 01:02:19,190 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:02:41,027 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 01:02:41,232 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:03:00,330 - INFO - Starting bot polling...
2025-08-07 01:04:26,875 - INFO - Starting bot polling...
2025-08-07 01:05:19,315 - INFO - Starting bot polling...
2025-08-07 01:07:08,653 - INFO - Starting bot polling...
2025-08-07 01:07:50,860 - INFO - Starting bot polling...
2025-08-07 01:08:36,798 - INFO - Starting bot polling...
2025-08-07 01:09:04,207 - INFO - Starting bot polling...
2025-08-07 01:13:43,737 - INFO - Starting bot polling...
2025-08-07 01:14:03,905 - INFO - Starting bot polling...
2025-08-07 01:14:17,775 - INFO - Starting bot polling...
2025-08-07 01:16:01,963 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:16:02,136 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:16:03,722 - INFO - Restarting in 10 seconds...
2025-08-07 01:16:10,752 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:16:10,971 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:16:13,723 - INFO - Starting bot polling...
2025-08-07 01:16:17,108 - INFO - Restarting in 10 seconds...
2025-08-07 01:16:27,109 - INFO - Starting bot polling...
2025-08-07 01:19:55,523 - INFO - Starting bot polling...
2025-08-07 01:20:28,713 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:20:28,868 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:20:29,218 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 01:20:31,335 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 09:12:00,566 - ERROR - Network error: ('Connection aborted.', ConnectionResetError(10054, '”даленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-08-07 09:12:00,568 - INFO - Restarting in 5 seconds...
2025-08-07 09:12:05,624 - INFO - Starting bot polling...
2025-08-07 09:12:07,845 - ERROR - Critical error: [WinError 10051] —делана попытка выполнить операцию на сокете при отключенной сети
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 101, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [WinError 10051] —делана попытка выполнить операцию на сокете при отключенной сети

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 51, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_manager_panel(msg, manager_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 212, in on_click_manager_panel
    manager_panel(message)
    ~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 70, in wrapper
    user_role = check_user_role(message.from_user.id)
  File "C:\Users\Ilia\Desktop\Rotinar\app\database\crud.py", line 8, in check_user_role
    user = supabase.table('users').select('role').eq('telegram_id', telegram_id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [WinError 10051] —делана попытка выполнить операцию на сокете при отключенной сети
2025-08-07 09:12:07,946 - INFO - Restarting in 10 seconds...
2025-08-07 09:12:11,823 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1101846054 "HTTP/2 200 OK"
2025-08-07 09:12:17,952 - INFO - Starting bot polling...
2025-08-07 09:12:22,844 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 224, in user_verification
    response = supabase.table('users').select('telegram_id', count='exact').eq('telegram_id', message.chat.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-07 09:12:23,262 - INFO - Restarting in 10 seconds...
2025-08-07 09:12:33,263 - INFO - Starting bot polling...
2025-08-07 09:14:27,003 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.40061766 "HTTP/2 200 OK"
2025-08-07 09:14:27,603 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.40061766 "HTTP/2 200 OK"
2025-08-07 09:14:28,297 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.40061766 "HTTP/2 200 OK"
2025-08-07 09:14:39,122 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-07 09:14:59,354 - ERROR - Network error: ('Connection aborted.', ConnectionResetError(10054, '”даленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-08-07 09:14:59,355 - INFO - Restarting in 5 seconds...
2025-08-07 09:15:04,356 - INFO - Starting bot polling...
2025-08-07 09:15:06,467 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F373E5D0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:15:06,467 - INFO - Restarting in 10 seconds...
2025-08-07 09:15:16,469 - INFO - Starting bot polling...
2025-08-07 09:15:18,507 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F373F390>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:15:18,508 - INFO - Restarting in 20 seconds...
2025-08-07 09:15:38,509 - INFO - Starting bot polling...
2025-08-07 09:15:40,545 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F474EFD0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:15:40,546 - INFO - Restarting in 40 seconds...
2025-08-07 09:16:20,548 - INFO - Starting bot polling...
2025-08-07 09:16:22,573 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F474EAD0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:16:22,574 - INFO - Restarting in 60 seconds...
2025-08-07 09:17:22,575 - INFO - Starting bot polling...
2025-08-07 09:17:24,612 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F474FC50>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:17:24,613 - INFO - Restarting in 60 seconds...
2025-08-07 09:18:24,614 - INFO - Starting bot polling...
2025-08-07 09:18:26,649 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F49FC050>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:18:26,650 - INFO - Restarting in 60 seconds...
2025-08-07 09:19:26,652 - INFO - Starting bot polling...
2025-08-07 09:19:28,692 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F49FC690>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:19:28,692 - INFO - Restarting in 60 seconds...
2025-08-07 09:20:28,694 - INFO - Starting bot polling...
2025-08-07 09:20:30,731 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F49FCB90>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:20:30,731 - INFO - Restarting in 60 seconds...
2025-08-07 09:21:30,733 - INFO - Starting bot polling...
2025-08-07 09:21:32,763 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F474FD90>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 09:21:32,764 - INFO - Restarting in 60 seconds...
2025-08-07 09:22:32,765 - INFO - Starting bot polling...
2025-08-07 11:22:34,743 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570500549&timeout=30 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001C5F474EC10>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-07 11:22:34,743 - INFO - Restarting in 60 seconds...
2025-08-07 13:33:09,816 - INFO - Starting bot polling...
2025-08-07 13:33:18,111 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:18,121 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:18,302 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:18,312 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:18,678 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:18,684 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:18,913 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:19,018 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-07 13:33:19,311 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 228, in user_verification
    role_commands(message, role, driver_panel, manager_panel)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 137, in role_commands
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 74, in wrapper
    return func(message, *args, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 91, in driver_panel
    driver_state = supabase.table('users').select('state_id').eq('telegram_id', message.from_user.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-07 13:33:19,553 - INFO - Restarting in 10 seconds...
2025-08-07 13:33:19,635 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-07 13:33:20,279 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-07 13:33:29,554 - INFO - Starting bot polling...
2025-08-07 13:33:31,559 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 224, in user_verification
    response = supabase.table('users').select('telegram_id', count='exact').eq('telegram_id', message.chat.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-07 13:33:31,634 - INFO - Restarting in 10 seconds...
2025-08-07 13:33:41,635 - INFO - Starting bot polling...
2025-08-07 13:33:45,423 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:33:45,567 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:33:45,772 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:33:48,455 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:33:57,866 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:33:57,999 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:33:58,234 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:33:59,837 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:34:03,133 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:34:04,197 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:34:14,603 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:34:18,856 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:35:01,050 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:35:01,057 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:35:16,363 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 51, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_manager_panel(msg, manager_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 212, in on_click_manager_panel
    manager_panel(message)
    ~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 70, in wrapper
    user_role = check_user_role(message.from_user.id)
  File "C:\Users\Ilia\Desktop\Rotinar\app\database\crud.py", line 8, in check_user_role
    user = supabase.table('users').select('role').eq('telegram_id', telegram_id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-07 13:35:16,433 - INFO - Restarting in 10 seconds...
2025-08-07 13:35:16,539 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:35:16,694 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:35:16,947 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:35:18,475 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:35:26,436 - INFO - Starting bot polling...
2025-08-07 13:35:28,478 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 51, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_manager_panel(msg, manager_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 212, in on_click_manager_panel
    manager_panel(message)
    ~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 70, in wrapper
    user_role = check_user_role(message.from_user.id)
  File "C:\Users\Ilia\Desktop\Rotinar\app\database\crud.py", line 8, in check_user_role
    user = supabase.table('users').select('role').eq('telegram_id', telegram_id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-07 13:35:28,550 - INFO - Restarting in 10 seconds...
2025-08-07 13:35:33,272 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:35:38,551 - INFO - Starting bot polling...
2025-08-07 13:36:30,601 - INFO - Starting bot polling...
2025-08-07 13:36:36,258 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:36:36,441 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:36:36,798 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:36:38,222 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:36:53,303 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:37:18,947 - INFO - Starting bot polling...
2025-08-07 13:37:33,518 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:37:35,342 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-07 13:37:37,252 - ERROR - Critical error: 'Message' object has no attribute 'chat_id'
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 257, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=30
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 51, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_manager_panel(msg, manager_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 170, in on_click_manager_panel
    safe_send_message(message.chat_id, response)
                      ^^^^^^^^^^^^^^^
AttributeError: 'Message' object has no attribute 'chat_id'
2025-08-07 13:37:37,290 - INFO - Restarting in 10 seconds...
2025-08-07 13:37:47,292 - INFO - Starting bot polling...
2025-08-07 13:38:24,515 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:38:24,856 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:38:25,471 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:38:27,496 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:38:42,941 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:41:25,732 - INFO - Starting bot polling...
2025-08-07 13:41:34,088 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:41:34,198 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:41:34,630 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:41:36,213 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:41:36,617 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:41:41,980 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-07 13:41:42,190 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:41:57,318 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:41:57,608 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:42:58,571 - INFO - Starting bot polling...
2025-08-07 13:45:15,266 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:17,043 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:17,301 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:17,535 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:17,674 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:17,843 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:20,753 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:20,984 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:21,187 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:21,366 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:23,418 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:23,686 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:23,849 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:23,995 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:32,787 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:32,998 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:33,150 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:33,270 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:50,129 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:50,353 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:50,441 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:45:50,586 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:00,164 - INFO - Starting bot polling...
2025-08-07 13:50:45,126 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:45,234 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:45,572 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:45,661 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:45,809 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:48,501 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:48,677 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:48,832 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:48,927 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:51,795 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:52,184 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:52,260 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:52,401 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 13:50:56,385 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:56,457 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:56,611 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:56,696 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:56,767 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:58,537 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:58,757 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:58,825 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:50:58,891 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:02,172 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:02,394 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:02,464 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:02,528 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:10,381 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:10,539 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:10,604 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:10,681 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:20,017 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:20,249 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:20,379 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:20,506 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:23,290 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:23,510 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:23,645 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:23,812 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:25,342 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:25,572 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:25,677 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:51:25,748 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:12,096 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:14,287 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:20,913 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=phone_number&phone_number=eq.89683606929 "HTTP/2 200 OK"
2025-08-07 13:56:21,071 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?phone_number=eq.89683606929 "HTTP/2 200 OK"
2025-08-07 13:56:21,208 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:21,354 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:21,512 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:21,648 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:21,724 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:22,981 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:23,191 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:23,276 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:23,414 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:25,139 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:25,374 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:25,450 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:25,585 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:28,949 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:29,118 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:29,201 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:29,336 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:34,067 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:34,455 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:34,526 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:34,610 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:37,309 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:37,473 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:37,579 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:37,687 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:45,228 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:45,631 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:45,774 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:56:45,911 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:58:28,194 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:58:30,254 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:58:30,346 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:58:30,553 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:58:32,402 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:58:32,692 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:59:07,181 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:59:07,560 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:59:17,814 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:59:18,121 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:59:39,345 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:59:39,629 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 13:59:59,382 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 13:59:59,791 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 14:00:24,208 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 14:00:24,459 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 14:00:39,721 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-07 14:00:40,134 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-07 14:02:51,905 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 14:02:52,457 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 14:02:52,537 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-07 14:02:52,645 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-12 22:12:28,087 - INFO - Starting bot polling...
2025-08-12 22:12:42,282 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:42,479 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:42,878 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:43,021 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:43,207 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:45,459 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:45,575 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:45,836 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:45,971 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:46,176 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:48,823 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:49,109 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:49,328 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:49,518 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:51,722 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:52,057 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:52,167 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:52,278 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:53,784 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:54,051 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:54,176 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:54,295 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:55,815 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:56,099 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:56,200 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:56,298 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:57,889 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:58,267 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:58,385 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:12:58,569 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:03,382 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:03,554 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:03,866 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:03,962 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:04,045 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:26,951 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:30,208 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:30,372 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:30,723 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:35,628 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&is_on_shift=eq.True&state_id=in.%281%2C2%2C3%2C4%2C5%29 "HTTP/2 200 OK"
2025-08-12 22:13:36,320 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:13:44,200 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=last_name%2Cfirst_name%2Csurname%2Cphone_number%2Cstate_id&role=eq.driver&state_id=eq.5&is_on_shift=eq.True "HTTP/2 200 OK"
2025-08-12 22:13:44,422 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-12 22:16:38,561 - INFO - Starting bot polling...
2025-08-15 20:19:05,446 - INFO - Starting bot polling...
2025-08-15 20:19:05,537 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getMe (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:19:05,538 - INFO - Restarting in 5 seconds...
2025-08-15 20:19:10,539 - INFO - Starting bot polling...
2025-08-15 20:19:10,727 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getMe (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:19:10,728 - INFO - Restarting in 50 seconds...
2025-08-15 20:20:00,729 - INFO - Starting bot polling...
2025-08-15 20:20:14,628 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-15 20:20:14,652 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-15 20:20:14,829 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-15 20:20:15,073 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-15 20:20:15,702 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-15 20:20:15,878 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-15 20:20:16,082 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-15 20:20:16,339 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-15 20:20:16,440 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-15 20:20:16,618 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.719374436 "HTTP/2 200 OK"
2025-08-15 20:20:16,650 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:16,770 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:16,849 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:16,964 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,061 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,222 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,392 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,571 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,698 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,770 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:17,918 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:17,965 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:18,085 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:18,109 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:18,349 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:18,411 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:18,516 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:18,640 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:22,759 - ERROR - Critical error: <ConnectionTerminated error_code:9, last_stream_id:57, additional_data:None>
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 355, in _receive_events
    raise RemoteProtocolError(self._connection_terminated)
httpcore.RemoteProtocolError: <ConnectionTerminated error_code:9, last_stream_id:57, additional_data:None>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 238, in user_verification
    role_commands(message, role, driver_panel, manager_panel)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 141, in role_commands
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 74, in wrapper
    return func(message, *args, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 91, in driver_panel
    driver_state = supabase.table('users').select('state_id').eq('telegram_id', message.from_user.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.RemoteProtocolError: <ConnectionTerminated error_code:9, last_stream_id:57, additional_data:None>
2025-08-15 20:20:23,086 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 20:20:23,316 - INFO - Restarting in 10 seconds...
2025-08-15 20:20:23,470 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 20:20:23,731 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 20:20:23,887 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 20:20:24,088 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 20:20:24,940 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:24,986 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:25,161 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:25,175 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:25,476 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:25,504 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:27,275 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:27,406 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.694896982 "HTTP/2 200 OK"
2025-08-15 20:20:33,318 - INFO - Starting bot polling...
2025-08-15 20:20:35,350 - ERROR - Critical error: [WinError 10054] ”даленный хост принудительно разорвал существующее подключение
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10054] ”даленный хост принудительно разорвал существующее подключение

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 124, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_driver_panel(msg, driver_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 116, in on_click_driver_panel
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 74, in wrapper
    return func(message, *args, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 90, in driver_panel
    is_on_shift = supabase.table('users').select('is_on_shift').eq('telegram_id', message.from_user.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10054] ”даленный хост принудительно разорвал существующее подключение
2025-08-15 20:20:35,409 - INFO - Restarting in 10 seconds...
2025-08-15 20:20:35,776 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:35,873 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:36,135 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:36,236 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:36,368 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:45,411 - INFO - Starting bot polling...
2025-08-15 20:20:47,956 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:48,442 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:48,535 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:48,659 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:50,011 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:50,252 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:50,345 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:20:50,593 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:21:35,597 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:21:35,608 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:21:43,437 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:21:43,448 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:21:51,628 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:21:51,640 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:21:57,797 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:21:57,809 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:22:05,965 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:22:05,976 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:22:18,117 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:22:18,129 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:22:30,177 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:22:30,189 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:22:53,694 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:22:53,714 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:23:33,124 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:23:33,137 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:24:40,542 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:24:40,557 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:25:47,985 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:25:47,996 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:26:55,451 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:26:55,463 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:28:02,950 - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-08-15 20:28:02,964 - ERROR - Exception traceback:
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-08-15 20:40:18,688 - INFO - Starting bot polling...
2025-08-15 20:41:00,045 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:00,344 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:00,815 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:00,912 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:01,163 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:07,781 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:08,313 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:08,534 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:08,859 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:10,484 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:10,779 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:10,993 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:11,197 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:12,722 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:12,879 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:13,171 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:13,301 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:13,962 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:17,145 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:17,262 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:17,437 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:17,560 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:17,710 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:19,231 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:19,341 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:19,559 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:19,780 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:41:19,896 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-15 20:46:15,186 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=15)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=15)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=15)
2025-08-15 20:46:15,237 - INFO - Restarting in 10 seconds...
2025-08-15 20:46:25,238 - INFO - Starting bot polling...
2025-08-15 20:46:32,444 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
2025-08-15 20:46:32,515 - INFO - Restarting in 10 seconds...
2025-08-15 20:46:42,516 - INFO - Starting bot polling...
2025-08-15 20:46:49,569 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
2025-08-15 20:46:49,608 - INFO - Restarting in 10 seconds...
2025-08-15 20:46:59,610 - INFO - Starting bot polling...
2025-08-15 20:47:01,773 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F5B0F110>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:47:01,773 - INFO - Restarting in 5 seconds...
2025-08-15 20:47:06,775 - INFO - Starting bot polling...
2025-08-15 20:47:13,839 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
2025-08-15 20:47:13,892 - INFO - Restarting in 10 seconds...
2025-08-15 20:47:23,893 - INFO - Starting bot polling...
2025-08-15 20:47:26,069 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F5B0EC10>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:47:26,070 - INFO - Restarting in 5 seconds...
2025-08-15 20:47:31,072 - INFO - Starting bot polling...
2025-08-15 20:47:33,124 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B31590>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:47:33,125 - INFO - Restarting in 50 seconds...
2025-08-15 20:48:23,127 - INFO - Starting bot polling...
2025-08-15 20:48:25,185 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B31090>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:48:25,186 - INFO - Restarting in 60 seconds...
2025-08-15 20:49:25,187 - INFO - Starting bot polling...
2025-08-15 20:49:27,245 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B30E10>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:49:27,246 - INFO - Restarting in 60 seconds...
2025-08-15 20:50:27,248 - INFO - Starting bot polling...
2025-08-15 20:50:29,352 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:50:29,352 - INFO - Restarting in 60 seconds...
2025-08-15 20:51:29,354 - INFO - Starting bot polling...
2025-08-15 20:51:31,606 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:51:31,607 - INFO - Restarting in 60 seconds...
2025-08-15 20:52:31,610 - INFO - Starting bot polling...
2025-08-15 20:52:33,690 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:52:33,691 - INFO - Restarting in 60 seconds...
2025-08-15 20:53:33,692 - INFO - Starting bot polling...
2025-08-15 20:53:35,730 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F5B0E850>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:53:35,730 - INFO - Restarting in 60 seconds...
2025-08-15 20:54:35,732 - INFO - Starting bot polling...
2025-08-15 20:54:37,775 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F5B0DD10>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:54:37,776 - INFO - Restarting in 60 seconds...
2025-08-15 20:55:37,777 - INFO - Starting bot polling...
2025-08-15 20:55:39,817 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B33110>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:55:39,818 - INFO - Restarting in 60 seconds...
2025-08-15 20:56:39,820 - INFO - Starting bot polling...
2025-08-15 20:56:41,849 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B32C10>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 20:56:41,849 - INFO - Restarting in 60 seconds...
2025-08-15 20:57:41,851 - INFO - Starting bot polling...
2025-08-15 20:57:43,933 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:57:43,934 - INFO - Restarting in 60 seconds...
2025-08-15 20:58:43,935 - INFO - Starting bot polling...
2025-08-15 20:58:46,011 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:58:46,012 - INFO - Restarting in 60 seconds...
2025-08-15 20:59:46,013 - INFO - Starting bot polling...
2025-08-15 20:59:48,111 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 20:59:48,112 - INFO - Restarting in 60 seconds...
2025-08-15 21:00:48,114 - INFO - Starting bot polling...
2025-08-15 21:00:55,207 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000286F6B334D0>, 'Connection to api.telegram.org timed out. (connect timeout=5)'))
2025-08-15 21:00:55,208 - INFO - Restarting in 60 seconds...
2025-08-15 21:01:55,209 - INFO - Starting bot polling...
2025-08-15 21:02:05,273 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
2025-08-15 21:02:05,312 - INFO - Restarting in 10 seconds...
2025-08-15 21:02:15,313 - INFO - Starting bot polling...
2025-08-15 21:02:22,375 - ERROR - Critical error: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    ~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
        sock=sock,
    ...<14 lines>...
        assert_fingerprint=self.assert_fingerprint,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
        sock=sock,
    ...<8 lines>...
        tls_in_tls=tls_in_tls,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 455, in wrap_socket
    return self.sslsocket_class._create(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sock=sock,
        ^^^^^^^^^^
    ...<5 lines>...
        session=session
        ^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1076, in _create
    self.do_handshake()
    ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1372, in do_handshake
    self._sslobj.do_handshake()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
TimeoutError: _ssl.c:1011: The handshake operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\util\util.py", line 39, in reraise
    raise value
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 466, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\urllib3\connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
                               allowed_updates=allowed_updates,
                               timeout=timeout, long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
        self.token, offset=offset, limit=limit, timeout=timeout, allowed_updates=allowed_updates,
        long_polling_timeout=long_polling_timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\apihelper.py", line 162, in _make_request
    result = _get_req_session().request(
        method, request_url, params=params, files=files,
        timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\requests\adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5)
2025-08-15 21:02:22,411 - INFO - Restarting in 10 seconds...
2025-08-15 21:02:32,413 - INFO - Starting bot polling...
2025-08-15 21:14:24,676 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:14:24,677 - INFO - Restarting in 5 seconds...
2025-08-15 21:14:29,834 - INFO - Starting bot polling...
2025-08-15 21:14:36,277 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:14:36,277 - INFO - Restarting in 50 seconds...
2025-08-15 21:15:26,279 - INFO - Starting bot polling...
2025-08-15 21:15:32,559 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:15:32,561 - INFO - Restarting in 60 seconds...
2025-08-15 21:16:32,562 - INFO - Starting bot polling...
2025-08-15 21:16:34,682 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:16:34,683 - INFO - Restarting in 60 seconds...
2025-08-15 21:17:34,684 - INFO - Starting bot polling...
2025-08-15 21:17:36,877 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:17:36,879 - INFO - Restarting in 60 seconds...
2025-08-15 21:18:36,879 - INFO - Starting bot polling...
2025-08-15 21:18:38,975 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:18:38,976 - INFO - Restarting in 60 seconds...
2025-08-15 21:19:38,977 - INFO - Starting bot polling...
2025-08-15 21:19:41,053 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:19:41,053 - INFO - Restarting in 60 seconds...
2025-08-15 21:20:41,055 - INFO - Starting bot polling...
2025-08-15 21:20:43,954 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503759&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:20:43,955 - INFO - Restarting in 60 seconds...
2025-08-15 21:21:43,956 - INFO - Starting bot polling...
2025-08-15 21:21:46,892 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:46,921 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,069 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,171 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,401 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,573 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,582 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,744 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:47,903 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:48,027 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:48,401 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:48,558 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:48,899 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:48,998 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:49,120 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:21:56,249 - ERROR - Network error: ('Connection aborted.', ConnectionResetError(10054, '”даленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-08-15 21:21:56,250 - INFO - Restarting in 60 seconds...
2025-08-15 21:22:56,251 - INFO - Starting bot polling...
2025-08-15 21:22:58,295 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B30F50>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 21:22:58,296 - INFO - Restarting in 60 seconds...
2025-08-15 21:23:58,297 - INFO - Starting bot polling...
2025-08-15 21:24:00,337 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6B320D0>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-15 21:24:00,337 - INFO - Restarting in 60 seconds...
2025-08-15 21:25:00,400 - INFO - Starting bot polling...
2025-08-15 21:25:02,833 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:25:02,834 - INFO - Restarting in 60 seconds...
2025-08-15 21:26:02,835 - INFO - Starting bot polling...
2025-08-15 21:26:04,906 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:26:04,906 - INFO - Restarting in 60 seconds...
2025-08-15 21:27:04,908 - INFO - Starting bot polling...
2025-08-15 21:27:07,548 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:27:07,549 - INFO - Restarting in 60 seconds...
2025-08-15 21:28:07,550 - INFO - Starting bot polling...
2025-08-15 21:28:09,631 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:28:09,631 - INFO - Restarting in 60 seconds...
2025-08-15 21:29:09,633 - INFO - Starting bot polling...
2025-08-15 21:29:11,723 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:29:11,724 - INFO - Restarting in 60 seconds...
2025-08-15 21:30:11,725 - INFO - Starting bot polling...
2025-08-15 21:30:13,828 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:30:13,829 - INFO - Restarting in 60 seconds...
2025-08-15 21:31:13,829 - INFO - Starting bot polling...
2025-08-15 21:31:16,201 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503763&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 21:31:16,202 - INFO - Restarting in 60 seconds...
2025-08-15 21:32:16,212 - INFO - Starting bot polling...
2025-08-15 21:32:19,614 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:19,642 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:19,762 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:19,970 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:20,232 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:20,357 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:20,404 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:20,589 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:20,745 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:20,930 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,242 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,262 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,352 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,463 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,611 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,703 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,827 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:21,937 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:22,050 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:32:22,176 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.2028566330 "HTTP/2 200 OK"
2025-08-15 21:47:07,193 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:07,417 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:07,892 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:08,081 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:08,254 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:08,654 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:09,213 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:09,353 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:09,492 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:11,320 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:11,640 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:11,781 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:11,930 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:13,411 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:13,684 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:13,833 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:13,990 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:15,874 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:16,244 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:16,426 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:16,574 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:17,974 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:18,133 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:18,367 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:18,496 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 21:47:18,588 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-15 22:21:09,143 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5829703443 "HTTP/2 200 OK"
2025-08-15 22:31:27,558 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:27,773 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:28,280 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:28,512 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:28,683 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:33,565 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:33,734 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:34,097 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:34,260 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:31:34,371 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-15 22:39:13,157 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:13,369 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:14,121 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:14,353 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:14,468 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:20,494 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:20,630 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:20,940 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:21,141 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:21,292 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:28,204 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:28,439 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:28,645 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:28,873 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:30,735 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:30,966 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:31,090 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:31,209 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:35,251 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:35,561 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:35,681 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:35,788 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:37,238 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:37,522 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:37,619 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:37,758 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:39,308 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:39,540 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:39,655 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:39:39,833 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.780730182 "HTTP/2 200 OK"
2025-08-15 22:40:05,781 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.7245507947 "HTTP/2 200 OK"
2025-08-15 22:40:06,051 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7245507947 "HTTP/2 200 OK"
2025-08-15 22:40:06,339 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7245507947 "HTTP/2 200 OK"
2025-08-15 22:56:40,635 - ERROR - Network error: ('Connection aborted.', ConnectionResetError(10054, '”даленный хост принудительно разорвал существующее подключение', None, 10054, None))
2025-08-15 22:56:40,636 - INFO - Restarting in 60 seconds...
2025-08-15 22:57:40,638 - INFO - Starting bot polling...
2025-08-15 22:57:42,728 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 22:57:42,729 - INFO - Restarting in 60 seconds...
2025-08-15 22:58:42,730 - INFO - Starting bot polling...
2025-08-15 22:58:44,836 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 22:58:44,837 - INFO - Restarting in 60 seconds...
2025-08-15 22:59:44,838 - INFO - Starting bot polling...
2025-08-15 22:59:46,918 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 22:59:46,918 - INFO - Restarting in 60 seconds...
2025-08-15 23:00:46,920 - INFO - Starting bot polling...
2025-08-15 23:00:49,002 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 23:00:49,003 - INFO - Restarting in 60 seconds...
2025-08-15 23:01:49,004 - INFO - Starting bot polling...
2025-08-15 23:01:51,088 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 23:01:51,089 - INFO - Restarting in 60 seconds...
2025-08-15 23:02:51,090 - INFO - Starting bot polling...
2025-08-15 23:02:53,199 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 23:02:53,200 - INFO - Restarting in 60 seconds...
2025-08-15 23:03:53,201 - INFO - Starting bot polling...
2025-08-15 23:03:55,307 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 23:03:55,308 - INFO - Restarting in 60 seconds...
2025-08-15 23:04:55,309 - INFO - Starting bot polling...
2025-08-15 23:04:57,388 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 23:04:57,389 - INFO - Restarting in 60 seconds...
2025-08-15 23:05:57,390 - INFO - Starting bot polling...
2025-08-15 23:05:59,488 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: EE certificate key too weak (_ssl.c:1028)')))
2025-08-15 23:05:59,489 - INFO - Restarting in 60 seconds...
2025-08-16 16:44:17,388 - INFO - Starting bot polling...
2025-08-16 16:44:19,655 - ERROR - Network error: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot8057997671:AAGXbnh8dF3nF_A8u709R4U-k2ayyDwocUs/getUpdates?offset=570503821&timeout=10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000286F6D9EC10>: Failed to resolve 'api.telegram.org' ([Errno 11001] getaddrinfo failed)"))
2025-08-16 16:44:19,657 - INFO - Restarting in 60 seconds...
2025-08-16 16:45:19,665 - INFO - Starting bot polling...
2025-08-16 16:45:23,499 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:23,511 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-16 16:45:23,734 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:23,844 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-16 16:45:23,936 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-16 16:45:24,167 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:24,322 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:24,426 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:24,531 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:24,709 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:24,926 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:25,012 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5867546196 "HTTP/2 200 OK"
2025-08-16 16:45:25,086 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:25,179 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:25,345 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:25,366 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:25,517 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:25,526 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:25,732 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:25,781 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:25,864 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:25,874 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:25,947 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:26,090 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:26,124 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:26,212 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:26,348 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:26,456 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:26,611 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:26,614 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:29,698 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:29,848 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:29,914 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.6950454666 "HTTP/2 200 OK"
2025-08-16 16:45:30,609 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 238, in user_verification
    role_commands(message, role, driver_panel, manager_panel)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 141, in role_commands
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 74, in wrapper
    return func(message, *args, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 90, in driver_panel
    is_on_shift = supabase.table('users').select('is_on_shift').eq('telegram_id', message.from_user.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-16 16:45:31,011 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:31,016 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:39,189 - INFO - Restarting in 10 seconds...
2025-08-16 16:45:39,463 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:39,473 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:39,684 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:39,717 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:39,810 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:39,955 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:40,036 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:40,045 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:40,252 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-16 16:45:40,331 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:40,394 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-16 16:45:40,412 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:40,708 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-16 16:45:40,725 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:40,793 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-16 16:45:40,886 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:40,973 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.554509646 "HTTP/2 200 OK"
2025-08-16 16:45:41,065 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:41,423 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:41,505 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:41,586 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:41,664 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:41,900 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:41,950 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:42,015 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:42,098 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:42,184 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:42,261 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:42,422 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:42,481 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:42,672 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:42,759 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:43,273 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:43,296 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:43,495 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:43,637 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:43,876 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:43,891 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:44,109 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:44,125 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:44,211 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:44,255 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:45:44,450 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:44,467 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:44,688 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:44,789 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:44,968 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:45,041 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:45,180 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:45,274 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:45,361 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:45:45,450 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:45,675 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:45,728 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:46,104 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:46,123 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:46,190 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:47,580 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:47,953 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,006 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,093 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,191 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,240 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,308 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,534 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,611 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,632 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,736 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,808 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,909 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:48,988 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,034 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,116 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,191 - INFO - Starting bot polling...
2025-08-16 16:45:49,211 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,275 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,356 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,527 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,587 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,674 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,755 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,853 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:49,964 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:51,274 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 236, in user_verification
    role = check_user_role(message.chat.id)
  File "C:\Users\Ilia\Desktop\Rotinar\app\database\crud.py", line 8, in check_user_role
    user = supabase.table('users').select('role').eq('telegram_id', telegram_id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-16 16:45:54,727 - INFO - Restarting in 10 seconds...
2025-08-16 16:45:54,787 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.887902276 "HTTP/2 200 OK"
2025-08-16 16:45:55,169 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:55,183 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:55,265 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:55,281 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:45:55,446 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.420721333 "HTTP/2 200 OK"
2025-08-16 16:45:55,790 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:45:56,078 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,088 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,179 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,263 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,365 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,427 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,792 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,811 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:56,873 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:56,897 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:57,035 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:57,077 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:57,167 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:57,248 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:57,342 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.940546457 "HTTP/2 200 OK"
2025-08-16 16:45:57,422 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:57,617 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:57,699 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:57,795 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:59,603 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:59,795 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:59,815 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:45:59,894 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:45:59,988 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,061 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:00,081 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,243 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,327 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,341 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:00,442 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:00,506 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,626 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,724 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:00,744 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1021160980 "HTTP/2 200 OK"
2025-08-16 16:46:00,815 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:00,894 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:01,014 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:46:01,067 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:01,101 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:46:01,185 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:01,380 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:01,395 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:46:01,481 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:01,569 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:46:01,676 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:01,789 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1239625473 "HTTP/2 200 OK"
2025-08-16 16:46:01,992 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:46:02,030 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-16 16:46:02,083 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:46:02,170 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-16 16:46:02,302 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:46:02,342 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.1893888757 "HTTP/2 200 OK"
2025-08-16 16:46:02,387 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:46:02,526 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.1935742809 "HTTP/2 200 OK"
2025-08-16 16:46:02,584 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:02,673 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:02,822 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=telegram_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:02,892 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:02,916 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,006 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,096 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,235 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,335 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,412 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,494 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,515 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,628 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,689 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,710 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,848 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,891 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:03,972 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,046 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,072 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,162 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,233 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,248 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,427 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,504 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,593 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:04,728 - INFO - Starting bot polling...
2025-08-16 16:46:06,770 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 9759, in _run_middlewares_and_handler
    result = handler['function'](message)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 37, in start_handler
    user_verification(message, driver_panel, manager_panel)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 238, in user_verification
    role_commands(message, role, driver_panel, manager_panel)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 141, in role_commands
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 74, in wrapper
    return func(message, *args, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 90, in driver_panel
    is_on_shift = supabase.table('users').select('is_on_shift').eq('telegram_id', message.from_user.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-16 16:46:07,259 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:07,285 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:08,627 - INFO - Restarting in 10 seconds...
2025-08-16 16:46:08,804 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,155 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,195 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,387 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,676 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,682 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,937 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:09,952 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:10,035 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:10,148 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:10,230 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:10,312 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.788795093 "HTTP/2 200 OK"
2025-08-16 16:46:18,632 - INFO - Starting bot polling...
2025-08-16 16:46:20,674 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 124, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_driver_panel(msg, driver_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 116, in on_click_driver_panel
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 70, in wrapper
    user_role = check_user_role(message.from_user.id)
  File "C:\Users\Ilia\Desktop\Rotinar\app\database\crud.py", line 8, in check_user_role
    user = supabase.table('users').select('role').eq('telegram_id', telegram_id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-16 16:46:20,825 - INFO - Restarting in 10 seconds...
2025-08-16 16:46:22,591 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:22,609 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:22,923 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:22,932 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:23,019 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:23,122 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:23,208 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:23,287 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:30,828 - INFO - Starting bot polling...
2025-08-16 16:46:32,898 - ERROR - Critical error: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 101, in map_httpcore_exceptions
    yield
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 256, in handle_request
    raise exc from None
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 187, in handle_request
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 455, in _read_incoming_data
    raise exc
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_sync\http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_backends\sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpcore\_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Ilia\Desktop\Rotinar\app\main.py", line 42, in robust_polling
    bot.polling(
    ~~~~~~~~~~~^
        none_stop=True,
        ^^^^^^^^^^^^^^^
    ...<2 lines>...
        long_polling_timeout=10
        ^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1198, in polling
    self.__threaded_polling(non_stop=non_stop, interval=interval, timeout=timeout, long_polling_timeout=long_polling_timeout,
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                            logger_level=logger_level, allowed_updates=allowed_updates)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1273, in __threaded_polling
    raise e
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\__init__.py", line 1235, in __threaded_polling
    self.worker_pool.raise_exceptions()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 150, in raise_exceptions
    raise self.exception_info
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\telebot\util.py", line 93, in run
    task(*args, **kwargs)
    ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 124, in <lambda>
    bot.register_next_step_handler(message, lambda msg: on_click_driver_panel(msg, driver_panel))
                                                        ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 116, in on_click_driver_panel
    driver_panel(message)
    ~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\utils.py", line 74, in wrapper
    return func(message, *args, **kwargs)
  File "C:\Users\Ilia\Desktop\Rotinar\app\bot\handlers.py", line 90, in driver_panel
    is_on_shift = supabase.table('users').select('is_on_shift').eq('telegram_id', message.from_user.id).execute()
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\postgrest\_sync\request_builder.py", line 57, in execute
    r = self.session.request(
        self.http_method,
    ...<3 lines>...
        headers=self.headers,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Ilia\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\Ilia\Desktop\Rotinar\.venv\Lib\site-packages\httpx\_transports\default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [WinError 10035] ќпераци€ на незаблокированном сокете не может быть завершена немедленно
2025-08-16 16:46:33,312 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:33,317 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:33,534 - INFO - Restarting in 10 seconds...
2025-08-16 16:46:33,631 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:33,673 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:33,927 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:34,004 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:34,094 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:34,181 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:34,294 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:34,379 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:43,547 - INFO - Starting bot polling...
2025-08-16 16:46:45,931 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:45,938 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,025 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,045 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,259 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,286 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,381 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,476 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,557 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:46,635 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:51,851 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:51,857 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:51,949 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,052 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,257 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,272 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,346 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,433 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,453 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:52,522 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.5434301117 "HTTP/2 200 OK"
2025-08-16 16:46:53,841 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:53,861 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:53,933 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,038 - INFO - HTTP Request: PATCH https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,101 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,209 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,285 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=role&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,389 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,483 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=is_on_shift&telegram_id=eq.7152757745 "HTTP/2 200 OK"
2025-08-16 16:46:54,594 - INFO - HTTP Request: GET https://desgxzdvmuwywlfguzpz.supabase.co/rest/v1/users?select=state_id&telegram_id=eq.7152757745 "HTTP/2 200 OK"
